<section id="login" class="unselectable" data-bind="autofocus">
    <!-- ko if: loginEnabled -->
        <div data-bind="focusHandler: {}">
            <header class="page-header">
                <h1 class="course-title" data-bind="css: {small: courseTitle.length>100}">
                    <span class="course-label" data-translate-text="[course]">Course:</span>&nbsp;&#34;<span class="course-caption" data-bind="text: courseTitle, reviewable: {type: 'course', property: 'title'}">"course_name"</span>&#34;
                </h1>
            </header>
        </div>
        <!-- ko ifnot: userExists -->
        <section class="content login">
            <h2 data-translate-text="[login header]"></h2>
            <!-- ko if: crossDeviceSavingEnabled && socialLoginEnabled -->
                <!-- ko compose: socialLoginViewModel --><!-- /ko -->
            <!-- /ko -->
            <form class="h200" data-bind="css: { hidden: !useEmail(), shown: useEmail() }">
                <div class="form-row mh75" data-bind="css: { error: !username.isValid() && username.isModified() }">
                    <input type="text" ondrop="return false;" data-bind="value: username, valueUpdate: 'afterkeydown',css: { empty: !username().length, autofocus: useEmail }, event: { blur: username.trim }, hasFocus: username.hasFocus">
                    <label data-translate-text="[login name field]">Your name</label>
                    <div class='error-message' data-bind="visible: !username.isValid() && username.isModified()" data-translate-text="[tracking and tracing name is not valid]"></div>
                </div>
                <div class="form-row mh75" data-bind="css: { error: !usermail.isValid() && usermail.isModified() }">
                    <input type="email" ondrop="return false;" data-bind="value: usermail, valueUpdate: 'afterkeydown',css:{empty:!usermail().length}, event: { blur: usermail.trim }, submitOnEnter: register">
                    <label data-translate-text="[login email field]">Your e-mail</label>
                    <span class="error-message" data-bind="visible: !usermail.isValid() && usermail.isModified()" data-translate-text="[tracking and tracing email is not valid]"></span>
                </div>
            </form>
            <form>
                <div class="form-row mw100 mh75 center">
                    <!-- ko ifnot: useEmail -->
                    <button class="button primary small w200 autofocus" data-bind="click: toggleUseEmail">
                        <span data-translate-text="[login use e-mail]" data-translate-title="[login use e-mail]">Use e-mail</span>
                    </button>
                    <!-- /ko -->
                    <!-- ko if: useEmail -->

                    <!-- ko if: crossDeviceSavingEnabled -->
                    <button class="button check small w280" type="submit" data-bind="click: toggleRememberMe, css: { active: rememberMe }">
                        <span data-translate-text="[remember me on this device]" data-translate-title="[remember me on this device]"></span>
                    </button>
                    <!-- /ko -->
                    <button class="button primary small important w280 pulsar-container autofocus" type="submit" data-bind="click: register, css: { processing: requestProcessing }">
                        <!-- ko if: requestProcessing -->
                        <div class="pulsar-loader align-center">
                            <div class="pulsar-loader-item"></div>
                            <div class="pulsar-loader-item"></div>
                            <div class="pulsar-loader-item"></div>
                        </div>
                        <!-- /ko -->
                        <!-- ko ifnot: requestProcessing -->
                        <span data-translate-text="[confirn your name and email]" data-translate-title="[confirn your name and email]">OK, name and email are correct</span>
                        <!-- /ko -->
                    </button>
                    <!-- /ko -->
                    <!-- ko if: skipAllowed -->
                    <button class="button link" href="#" data-bind="click: skip" data-translate-text="[login skip]" data-translate-title="[login skip]">Skip step, start anonymously</button>
                    <!-- /ko -->
                </div>
            </form>
            <footer data-translate-text="[login explanation]"></footer>
        </section>
        <!-- /ko -->
        <!-- ko if: userExists -->
            <!-- ko compose: { model: checkPasswordViewModel, activationData: [username,usermail,rememberMe] } --><!-- /ko -->
        <!-- /ko -->
    <!-- /ko -->
</section>
